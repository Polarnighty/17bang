
@{
    ViewBag.Title = "Single";
}

<div class="container body-content">
    <div style="margin-top:55px" class="row">
        <div class="col-md-8">

            <img src="/Images/%e6%ba%90%e6%a0%88%e4%b8%8a%e8%af%be%e5%95%a6.jpg" class="img-responsive" style="margin-bottom:20px;">
            <div class="text-primary h2-inline">
                <span class="iconfont icon-article"></span> J&amp;C：Email和短信：SMTP / 服务接口 / 日志log
            </div>
            <hr>

            <span style="top:60px;" class="visible-xs-inline visible-sm-inline flag">
                <a zyf-show-widget="">

                    <span class="fa fa-window-restore"></span> 更多

                </a>
            </span>


            <div>
                <span>
                    <small class="text-muted" zyf-datetime="">
                        <span>
                            <span class="fa fa-calendar"></span> <span zyf-can-hide=""> 2021年09月17日 10点00分</span>
                        </span>
                    </small>
                </span>
                <span class="pull-right">
                    <span zyf-article-arthor="">
                        作者：<a href="/Article/User-1">叶飞</a>

                    </span>


                    <span zyf-article-edit="" class="hide" data-author-id="1">

                        <a href="/Article/Edit/810" style="margin-left:14px;">
                            <span class="fa fa-pencil-square-o"></span> 修改
                        </a>
                    </span>

                </span>
                <div style="clear:both; word-break:break-all; padding-top:20px;">
                    <span></span>
                    <h4>
                        发送Email
                    </h4>
                    <p>
                        Email并不能在用户之间直接传递，而是依赖于邮件的：
                    </p>
                    <ul>
                        <li>
                            发送服务器（如下图：smtp.163.com）
                        </li>
                        <li>
                            接收服务器（如下图：pop.qq.com）<br>
                        </li>
                    </ul>
                    <p>
                        <img zyf-img="" class="img-responsive" src="http://17bang.ren/Images/Attachment/2020/6/23/92c85ba0-fcd3-42b9-968b-ba5eca12425b.png" alt="" data-original-title="" title="">
                    </p>
                    <ol>
                        <li>
                            发送方（sender）将email推送给邮件发送服务器。这一过程可以由用户登录邮箱网站完成，或使用其他邮箱软件（如outlook）推送
                        </li>
                        <li>
                            163.com按邮件收件人地址将email推送到qq.com服务器
                        </li>
                        <li>
                            收件方（receiver）从服务器拉取自己的email
                        </li>
                    </ol>
                    <p>
                        上述3个过程，1和2都是推送，使用SMTP（Simple Mail Transfer Protocol）协议；3是拉取，使用的是POP3协议。
                    </p>
                    <p>
                        我们开发中所谓的“发送email”其实只关注第1个阶段，即把邮件内容推送到
                    </p>
                    <h3>
                        <br>
                    </h3>
                    <h3>
                        SMTP服务器
                    </h3>
                    <p>
                        练习时推荐使用<a rel="nofollow" href="https://email.163.com/#f=topnav" target="_blank">网易免费邮箱</a>。
                    </p>
                    <p>
                        <br>
                    </p>
                    <p>
                        首先需要自己去申请一个账号，我为了方便教学，已经弄好了：
                    </p>
                    <ul>
                        <li>
                            用户名：feige_20200214
                        </li>
                        <li>
                            密码：yz17bang
                        </li>
                    </ul>
                    真实可用，^_^，yz17bang为“<a rel="nofollow" href="https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cda80145a1742516" target="_blank">客户端授权密码</a>”，即通过程序推送email使用的密码（如果要从网易邮箱网页登录，需使用登录密码：yuanzhan17bang）
                    <p>
                        <br>
                    </p>
                    <p>
                        邮件服务商会提供Host（服务器地址）和Port（连接用端口号），
                    </p>
                    <ul>
                        <li>
                            host：smtp.163.com
                        </li>
                        <li>
                            port：25 （如果使用ssl加密方式，403）
                        </li>
                    </ul>
                    <p>
                        通过这些信息，我们就能连接上网易的SMTP服务器，推送email。
                    </p>
                    <h3>
                        <br>
                    </h3>
                    <h3>
                        Email内容
                    </h3>
                    <p>
                        一般包括：
                    </p>
                    <ul>
                        <li>
                            发件人（From）：主要内容为email地址
                        </li>
                        <li>
                            收件人（To）：：可以是一个或多个，还可以有抄送等，但开发中用得<br>
                        </li>
                        <li>
                            标题（Subject）：
                        </li>
                        <li>
                            正文（Body）：<br>
                            正文可以为HTML格式。
                        </li>
                        <li>
                            附件（Attachment）<br>
                        </li>
                    </ul>
                    <h3>
                        <br>
                    </h3>
                    <h3>
                        类库
                    </h3>
                    <p>
                        你不用担心不知道SMTP协议究竟是怎么约定的，不知道怎么建立连接如何推送……
                    </p>
                    <p>
                        我们只需要利用一些封装得很好的类库，就可以轻松的实现email的发送<em>（体会：封装的作用）</em>
                    </p>
                    <h3>
                        <br>
                    </h3>
                    <h3>
                        故障
                    </h3>
                    <p>
                        email的发送并不总是能够成功到达的，就像我们寄出去的信一样：我们能够控制的是把信交给邮局这一段，之后我们就没法控制了。
                    </p>
                    <p>
                        一般来说，以下情况我们能够收到异常信息：
                    </p>
                    <ul>
                        <li>
                            和SMTP服务器没有连接成功：找不到smtp服务器；端口、用户名或密码不对；连接超时……
                        </li>
                        <li>
                            SMTP推送到POP服务器没有成功：收件人地址错误；POP服务器拒收……<br>
                        </li>
                    </ul>
                    <p>
                        但以下情况<strong>不</strong>会收到异常信息：
                    </p>
                    <ul>
                        <li>
                            收件人拒收：被判定为垃圾邮件、拉取失败故障……
                        </li>
                    </ul>
                    <p>
                        所以实际开发中我们要注意：
                    </p>
                    <ol>
                        <li>
                            记录email发送异常日志并定时检查
                        </li>
                        <li>
                            密切关注发送邮箱的退件信息等<span></span><br>
                        </li>
                    </ol>
                    <h3>
                        <br>
                    </h3>
                    <h3>
                        发送短信
                    </h3>
                    <p>
                        因为没有标题正文啥的，比发送email还要简单！
                    </p>
                    <p>
                        只需要使用服务商提供的<a rel="nofollow" href="https://cloud.tencent.com/document/product/382/43194" target="_blank">SDK（各种语言都有）</a>，按文档调用相关的API就OK了。
                    </p>
                    <p>
                        <span></span><span style="font-size:12px;">PS：</span><span style="font-size:12px;">SDK（</span><strong><span style="font-size:12px;">S</span></strong><span style="font-size:12px;">oftware </span><strong><span style="font-size:12px;">D</span></strong><span style="font-size:12px;">evelopment </span><strong><span style="font-size:12px;">K</span></strong><span style="font-size:12px;">it，软件开发工具包）</span><span style="font-size:12px;">，可以简单理解为API的集合</span>
                    </p>
                    <p>
                        <br>
                    </p>
                    <h3>
                        <br>
                    </h3>
                    <h3>
                        日志log
                    </h3>
                    <p>
                        email或短信发送失败（以及其他各种异常信息）一般都要通过log记录，以便维护。
                    </p>
                    <p>
                        出于性能的考虑，我们通常使用（使用了大量性能优化技术的）成熟的第三方组件进行日志记录。
                    </p>
                    其中最负盛名的就是log4（历史悠久，稳如老狗）：C#的<a rel="nofollow" href="http://logging.apache.org/log4net/" target="_blank">log4.net</a>和Java的<a rel="nofollow" href="https://logging.apache.org/log4j/2.x/" target="_blank">log4j</a>，其核心对象都是<strong>logger</strong>
<pre class="prettyprint lang-java prettyprinted" style=""><span class="typ">Logger</span><span class="pln"> logger </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LogManager</span><span class="pun">.</span><span class="pln">getLogger</span><span class="pun">(</span><span class="str">"17bang"</span><span class="pun">);</span><span class="pln">

logger</span><span class="pun">.</span><span class="pln">trace</span><span class="pun">(</span><span class="str">"this is a trace message……"</span><span class="pun">);</span><span class="pln">
logger</span><span class="pun">.</span><span class="pln">debug</span><span class="pun">(</span><span class="str">"this is a debug message……"</span><span class="pun">);</span><span class="pln">
logger</span><span class="pun">.</span><span class="pln">info</span><span class="pun">(</span><span class="str">"this is a info message……"</span><span class="pun">);</span><span class="pln">
logger</span><span class="pun">.</span><span class="pln">warn</span><span class="pun">(</span><span class="str">"this is a warn message……"</span><span class="pun">);</span><span class="pln">
logger</span><span class="pun">.</span><span class="pln">error</span><span class="pun">(</span><span class="str">"this is a error message……"</span><span class="pun">);</span><span class="pln">
logger</span><span class="pun">.</span><span class="pln">fatal</span><span class="pun">(</span><span class="str">"this is a fatal message……"</span><span class="pun">);</span></pre>
                    其中：
                    <ul>
                        <li>
                            17bang是logger的name
                        </li>
                        <li>
                            trace()等是logger的方法，但代表的是logger的level<br>
                        </li>
                    </ul>
                    <p>
                        他们都依赖于其<strong>配置文件</strong>，这两行的代码意思是：如果配置文件中配置了17bang的logger，且标记为trace级别，就记录内容this is a trace message……
                    </p>
                    <p>
                        配置文件一般是xml格式，包含的logger节点如下所示：
                    </p>
<pre class="prettyprint lang-xml prettyprinted" style=""><span class="tag">&lt;Loggers&gt;</span><span class="pln">
	</span><span class="tag">&lt;Logger</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"17bang"</span><span class="pln"> </span><span class="atn">level</span><span class="pun">=</span><span class="atv">"DEBUG"</span><span></span><span class="tag">&gt;</span><span class="pln">
		</span><span class="tag">&lt;AppenderRef</span><span class="pln"> </span><span class="atn">ref</span><span class="pun">=</span><span class="atv">"File"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
		</span><span class="tag">&lt;AppenderRef</span><span class="pln"> </span><span class="atn">ref</span><span class="pun">=</span><span class="atv">"Console"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
	</span><span class="tag">&lt;/Logger&gt;</span><span class="pln"> </span></pre>
                    level按级别从小到大是：TRACE&lt;DEBUG&lt;INFO&lt;WARN&lt;ERROR&lt;FATAL&lt;OFF
                    <p>
                        在配置文件中定义的是级别的“下限”，比如：level="DEBUG"，就只会输出debug以上的内容，不会输出debug以下trace的内容。
                    </p>
                    <p>
                        logger依赖于<strong>Appender</strong>，Appender指定log输出的方式：
                    </p>
<pre class="prettyprint lang-xml prettyprinted" style=""><span class="tag">&lt;Appenders&gt;</span><span class="pln">
	</span><span class="tag">&lt;Console</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Console"</span><span class="pln"> </span><span class="atn">target</span><span class="pun">=</span><span class="atv">"SYSTEM_OUT"</span><span class="tag">&gt;</span><span class="pln">
		</span><span class="tag">&lt;PatternLayout</span><span class="pln">
			</span><span class="atn">pattern</span><span class="pun">=</span><span class="atv">"%d{yyyy-MMM-dd HH:mm:ss a} [%t] %-5level %logger{36} - %msg%n"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
	</span><span class="tag">&lt;/Console&gt;</span><span class="pln">
	</span><span class="tag">&lt;File</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"File"</span><span class="pln"> </span><span class="atn">fileName</span><span class="pun">=</span><span class="atv">"c:/log/app.log"</span><span class="tag">&gt;</span><span class="pln">
		</span><span class="tag">&lt;PatternLayout</span><span class="pln">
			</span><span class="atn">pattern</span><span class="pun">=</span><span class="atv">"%d{yyyy-MMM-dd HH:mm:ss a} [%t] %-5level %logger{36} - %msg%n"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
	</span><span class="tag">&lt;/File&gt;</span><span class="pln">
</span><span class="tag">&lt;/Appenders&gt;</span></pre>
                    首先是节点名称，只能是Console/File/<span style="font-size:14px;">Writer</span>等，指示了日志输出到控制台/文件/自定义流……
                    <p>
                        name供logger引用：&lt;AppenderRef ref="File" /&gt;
                    </p>
                    <p>
                        Console要指定target，File要指定文件路径
                    </p>
                    <p>
                        然后里面的PatternLayout，通过pattern指定具体的输出内容：
                    </p>
                    <ul>
                        <li>
                            %d：日期时间（datetime），后面的{yyyy-MM-dd hh:mm:ss} 表明年月日小时分钟秒等日期格式
                        </li>
                        <li>
                            %t：所在线程（thread）
                        </li>
                        <li>
                            %-5level：日志等级<br>
                        </li>
                        <li>
                            %logger{36}：logger名称
                        </li>
                        <li>
                            %msg：日志内容
                        </li>
                        <li>
                            %n：换行
                        </li>
                        <li>
                            ……<br>
                        </li>
                    </ul>
                    <p>
                        <span></span><em>演示和其他说明：略</em><span></span>
                    </p>
                    <h3>
                        <span></span><br>
                    </h3>
                    <h3>
                        作业
                    </h3>
                    <ol>
                        <li>
                            逐行读取<span></span><a href="https://17bang.ren/Code/286" target="_blank">之前</a><span></span>的newEmail.txt文件，利用代码将一封HTML格式的邮件发送到其包含的email邮箱地址中
                        </li>
                        <li>
                            并将发送成功/失败的信息通过log4记录到文件日志<br>
                        </li>
                    </ol>
                </div>
                <div class="clearfix" style="padding-top:10px;">
                    <div>
                        <label><span class="fa fa-tags"></span>  关键字：</label>
                        <span class="badge">Java</span>
                        <span class="badge">C#</span>
                        <span class="badge">email</span>
                        <span class="badge">短信</span>
                    </div>
                    <div class="article-appraise appraise-status pull-right">
                        <a class="appraise-status-item text-success" href="/Article/Appraise?id=810&amp;direction=1" zyf-vote="" data-author-id="1">
                            <span class="fa fa-thumbs-o-up"></span>
                            <span class="visible-sm-inline visible-md-inline visible-lg-inline">赞：</span>
                            <span zyf-votes-count="">0</span>
                        </a>
                        <a class="appraise-status-item text-muted" href="/Article/Appraise?id=810&amp;direction=-1" zyf-vote="" data-author-id="1">
                            <span class="fa fa-thumbs-o-down"></span>
                            <span class="visible-sm-inline visible-md-inline visible-lg-inline">踩：</span>
                            <span zyf-votes-count="">0</span>
                        </a>

                    </div>
                    <div zyf-article-donate-container="" style="padding-bottom:25px;">
                        <div style="clear:both;margin-left:auto;margin-right:auto;width:65px;height:65px;">
                            <div zyf-article-donate-btn="" data-author-id="1" data-article-id="810" class="yellow-highlight text-center" data-toggle="tooltip" title="" data-original-title="点击打赏">
                                <span class="iconfont icon-money credit fa-2x"></span><br>打赏
                            </div>
                        </div>
                        <div class="article-donate">
                            <span class="fa fa-smile-o fa-2x text-success pull-left" style="display:table-cell;"></span>
                            <div style="display:table-cell;">
                                <div>
                                    已收到打赏的
                                    <a href="/FAQ/Money" data-toggle="tooltip" class="credit" title="" data-original-title="点击了解">
                                        <span class="iconfont icon-money"></span> 帮帮币
                                    </a>
                                    ：
                                </div>
                                <div zyf-problem-donors-container="" class="clearfix"><small class="text-info">快来做第一个打赏的好心人吧，O(∩_∩)O~</small></div>
                            </div>
                            <hr>
                            <div style="clear:both;" class="text-muted">
                                <span class="fa fa-info-circle"></span>
                                你的 <span class="credit">打赏</span> 非常重要！<br>
                                为了<a href="/FAQ/Article#grant">保证文章的质量</a>，每一篇文章的发布，都已经消耗了作者 1 枚
                                <a href="/FAQ/Money" data-toggle="tooltip" class="credit" title="" data-original-title="点击了解">
                                    <span class="iconfont icon-money"></span> 帮帮币
                                </a>
                                。<br>
                                没有“帮帮币”，作者无法发布新的文章。
                            </div>
                        </div>
                    </div>

                    <div style="clear:both;">
                        <div class="bdsharebuttonbox bdshare-button-style0-16" data-bd-bind="1634656645419"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
                        <script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "2", "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = '/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
                    </div>
                </div>

                <div style="margin-top:20px;">
                    <div class="yellow-highlight" style="padding:5px 10px;">
                        <a style="color:#354756" title="" data-toggle="tooltip" href="/FAQ/Ad#article" data-original-title="这是什么？">投稿人推广：</a> <a href="http://17bang.ren/Article/261">学编程，来 “源栈”！飞哥精品小班等着你……</a>
                    </div>

                </div>
                <a name="new-comment"></a>
                <div style="padding-top:20px;">

                    <div zyf-not-logon="" class="yellow-highlight need-login">
                        <span class="fa fa-exclamation-triangle" style="color:yellowgreen;"></span>
                        你还没有登录，不能进行相关操作。请<a href="/Log/On?prepage=%2fArticle%2f810">登录</a>或<a href="/Register/Home?prepage=%2fArticle%2f810">注册</a>。
                        （<a href="/Shared/_JoinUs" class="small" zyf-why-joinus=""><span class="fa fa-question-circle"></span> 为什么要加入我们</a>）
                    </div>
                    <div zyf-logon="" class="hide">
                        <h4>
                            <span class="fa fa-send"></span> <label>我有话说：</label>
                        </h4>

                        <script src="/Scripts/kindeditor-v4.1/kindeditor.js"></script>
                        <script src="/Scripts/kindeditor-v4.1/lang/zh_CN.js"></script>
                        <script src="/Scripts/kindeditor.help.js"></script>
                        <form action="/Article/810" method="post" novalidate="novalidate">
                            <div zyf-comment-reply-reminder=""></div>
                            <input data-val="true" data-val-number="字段 ReplyId 必须是一个数字。" id="CommentBody_ReplyId" name="CommentBody.ReplyId" type="hidden" value="" zyf-comment-reply-id=""><span class="field-validation-valid" data-valmsg-for="CommentBody.ReplyId" data-valmsg-replace="true"></span>    <div class="form-group">
                                <div class="ke-container ke-container-default" style="width: 100%;"><div style="display:block;" class="ke-toolbar" unselectable="on"><span class="ke-outline" data-name="source" title="HTML代码" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-source" unselectable="on"></span></span><span class="ke-inline-block ke-separator"></span><span class="ke-outline" data-name="formatblock" title="段落" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-formatblock" unselectable="on"></span></span><span class="ke-outline" data-name="fontsize" title="文字大小" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-fontsize" unselectable="on"></span></span><span class="ke-outline" data-name="bold" title="粗体(Ctrl+B)" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-bold" unselectable="on"></span></span><span class="ke-outline" data-name="italic" title="斜体(Ctrl+I)" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-italic" unselectable="on"></span></span><span class="ke-outline" data-name="underline" title="下划线(Ctrl+U)" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-underline" unselectable="on"></span></span><span class="ke-outline" data-name="strikethrough" title="删除线" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-strikethrough" unselectable="on"></span></span><span class="ke-outline" data-name="removeformat" title="删除格式" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-removeformat" unselectable="on"></span></span><span class="ke-inline-block ke-separator"></span><span class="ke-outline" data-name="table" title="表格" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-table" unselectable="on"></span></span><span class="ke-outline" data-name="insertorderedlist" title="编号" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-insertorderedlist" unselectable="on"></span></span><span class="ke-outline" data-name="insertunorderedlist" title="项目符号" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-insertunorderedlist" unselectable="on"></span></span><span class="ke-inline-block ke-separator"></span><span class="ke-outline" data-name="link" title="超级链接" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-link" unselectable="on"></span></span><span class="ke-outline" data-name="unlink" title="取消超级链接" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-unlink" unselectable="on"></span></span><span class="ke-inline-block ke-separator"></span><span class="ke-outline" data-name="code" title="插入程序代码" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-code" unselectable="on"></span></span><span class="ke-outline" data-name="quote" title="插入引用" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-quote" unselectable="on"></span></span><span class="ke-outline" data-name="image" title="图片" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-image" unselectable="on"></span></span><span class="ke-inline-block ke-separator"></span><span class="ke-outline" data-name="fullscreen" title="全屏显示(Esc)" unselectable="on"><span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-fullscreen" unselectable="on"></span></span></div><div style="display: block; height: 100px;" class="ke-edit"><iframe class="ke-edit-iframe" hidefocus="true" frameborder="0" tabindex="" style="width: 100%; height: 100px;"></iframe><textarea class="ke-edit-textarea" hidefocus="true" tabindex="" style="width: 100%; height: 100px; display: none;"></textarea></div><div class="ke-statusbar"><span class="ke-inline-block ke-statusbar-center-icon"></span><span class="ke-inline-block ke-statusbar-right-icon"></span></div></div><textarea class="form-control" cols="20" data-val="true" data-val-required="* 正文不能为空" id="CommentBody_Content" name="CommentBody.Content" placeholder="精选评论有帮帮币奖励哟！O(∩_∩)O~" rows="4" zyf-kindeditor="" zyf-new-comment="" style="display: none;"></textarea>
                                <span class="field-validation-valid" data-valmsg-for="CommentBody.Content" data-valmsg-replace="true"></span>
                            </div>
                            <div zyf-logon="" class="submit hide">
                                <input type="submit" class="btn btn-primary" value="提交" zyf-problem-comment-submit="" zyf-submit-once="">
                                <input type="reset" class="btn btn-default">
                            </div>

                            <div zyf-not-logon="" class="yellow-highlight need-login">
                                <span class="fa fa-exclamation-triangle" style="color:yellowgreen;"></span>
                                你还没有登录，不能进行相关操作。请<a href="/Log/On?prepage=%2fArticle%2f810">登录</a>或<a href="/Register/Home?prepage=%2fArticle%2f810">注册</a>。
                                （<a href="/Shared/_JoinUs" class="small" zyf-why-joinus=""><span class="fa fa-question-circle"></span> 为什么要加入我们</a>）
                            </div>
                        </form>
                        <script>
                            $(document).ready(function () {

                                $("[zyf-problem-comment-submit]").on("click", function (event) {
                                    event.preventDefault();
                                    var $this = $(this),
                                        $form = $this.parents("form")
                                        ;
                                    if ($form.valid()) {
                                        $.ajax({
                                            url: "/Article/810",
                                            data: $form.serialize(),
                                            method: "POST",
                                            success: function (data) {
                                                showRemind('<p>' +
                                                    '<span class="fa fa-check text-success" style="margin-right:10px;"></span>' +
                                                    '<span>恭喜！评论发布成功。</span>' +
                                                    '</p>');
                                                $("[zyf-new-comment]").val("");
                                                if (editor !== undefined) {
                                                    editor.html("");
                                                }
                                                $("[zyf-comment-count]").text(
                                                    parseInt($("[zyf-comment-count]").text()) + 1);

                                                $("[zyf-comment-reply-reminder]").html("");

                                                var $comment = $(data);
                                                //为自定义处理预留的函数
                                                if (typeof afterCommentSubmit !== "undefined" &&
                                                    $.isFunction(afterCommentSubmit)) {
                                                    afterCommentSubmit($comment, $this);
                                                }

                                                $("#published_comment").before($comment);

                                            },
                                            failed: JqueryAjaxError
                                        })
                                    }
                                })

                            })
                        </script>
                    </div>
                </div>
                <div style="margin-top: 25px;">
                    <div class="checkbox pull-left">
                        <label>
                            <input id="inCategory" name="inCategory" type="checkbox" value="true" zyf-nav-in-category=""><input name="inCategory" type="hidden" value="false">
                            在系列 <a href="/Article/Category-106"><span class="fa fa-folder"></span> J&amp;C</a>
                            中的：
                        </label>
                    </div>
                    <a class="btn btn-default btn-sm pull-right" href="/Article/Category-106?fulltext=1&amp;articleId=810">
                        <span class="iconfont icon-pages"></span> 全系列阅读
                    </a>
                    <div zyf-article-nav-container="" style="clear:both; margin-bottom:20px; padding:10px 15px; border: 2px dashed #808080; border-radius:4px 5px;">
                        <div>
                            <span class="fa fa-arrow-up"></span>
                            上一篇：
                            <a href="/Article/809">Java：IO操作：File / Stream / AWT绘图</a>

                        </div>
                        <div style="margin-top:6px;">
                            <span class="fa fa-arrow-down"></span>
                            下一篇：
                            <a href="/Article/811">Java：JavaMail / properties / log4j</a>
                        </div>
                    </div>

                </div>
                <a name="comments"></a>
                <div class="appraise-status" style="clear:both; margin-top: 15px;">
                    <span class="lead" style="margin-right:20px">
                        <span class="fa fa-comments-o"></span>
                        <span class="visible-sm-inline visible-md-inline visible-lg-inline">评论</span><small>
                            （ <span zyf-comment-of-article-count="" title="" data-toggle="tooltip" data-original-title="精选评论">0</span> / <span title="" data-toggle="tooltip" data-original-title="全部评论">0</span> ）
                        </small>
                    </span>
                </div>
                <div zyf-comment-of-article="">
                    <div id="published_comment"></div>
                    <div zyf-comments-container="">
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>
